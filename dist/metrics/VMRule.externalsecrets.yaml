apiVersion: operator.victoriametrics.com/v1beta1
kind: VMRule
metadata:
  labels:
    alerts.cmdcentral.xyz/kind: metrics
  name: externalsecrets
  namespace: metrics
spec:
  groups:
    - name: externalsecrets
      rules:
        - alert: ExternalSecretSyncFailed
          annotations:
            summary: ExternalSecret {{ $labels.name }} in {{ $labels.namespace }} failed to sync
          expr: external_secrets_sync_calls_error{status="error"} > 0
          for: 15m
          labels:
            namespace: metrics
            priority: "0"
            push_notify: "true"
